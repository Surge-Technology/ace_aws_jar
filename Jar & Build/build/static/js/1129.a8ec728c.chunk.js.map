{"version":3,"file":"static/js/1129.a8ec728c.chunk.js","mappings":"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","sources":["hoc/pagination.js","views/settings/emailtemplate/allemailtemplates.js"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react'\nimport Pagination from \"rc-pagination\";\nimport \"rc-pagination/assets/index.css\";\nimport localeInfo from \"rc-pagination/lib/locale/en_US\";\n \nexport default function TablePagination(props) {\n  const [data,setData] = useState({ totalDocs:props.totalPages,currentPage:props.currentPage})\n  const  onPaginationChange=(data)=>{\n    props.callbackfunc(data);\n  }\n  const  onShowSizeChange=(data)=>{\n    console.log(\"onShowSizeChange\",data)\n  }\n  return (\n    <>\n    <Pagination\n     showTotal={(total, range) =>\n      `${range[0]} - ${range[1]} of ${total} items`\n      }\n       showQuickJumper\n    pageSizeOptions={['10', '20', '50', '100']}\n    showSizeChanger\n    defaultPageSize={props.defaultPageSize}\n    defaultCurrent={data.currentPage}\n    onShowSizeChange={ onShowSizeChange}\n    onChange={onPaginationChange}\n    total={data.totalDocs}\n    locale={localeInfo}\n  />\n</>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Col, Card, CardBody, CardFooter, Row, Button,Spinner } from \"reactstrap\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nimport './emailtemplate.css';\nimport Axios from \"../../../hoc/axiosConfig\";\nimport TablePagination from '../../../hoc/pagination';\nimport Swal from 'sweetalert2';\nimport moment from 'moment';\nimport axios from 'axios';\nconst allemailtemplates = () => {\n  const allemailtemplatesInitialData = { allemailtemplatesList: [], totalPages: \"\", currentPage: \"\", loader: false ,\n  permissions:{canCreate: true, canView: true, canUpdate: true, canDelete: true}}\n  const [initialData, setState] = useState(allemailtemplatesInitialData);\n  const { allemailtemplatesList, totalPages, currentPage, loader,permissions } = initialData\n  let history = useNavigate();\n  const tableList = (page) => {\n    setState((prevState) => ({ ...prevState, loader: true }))\n    Axios.get(`email-template?page=${page - 1}&size=10&sort=id,desc`).then((res) => {\n      setState((prevState) => ({\n        ...prevState,\n        allemailtemplatesList: res.data.content,\n        totalPages: res.data.totalElements,\n        currentPage: res.data.pageNumber + 1,\n        loader: false\n      }))\n      if (res.status == 401) {\n        Swal.fire({ title: \"error\", icon: \"error\", text: \"Session Expired\" })\n          //navigate('/login')\n          const additionalValue = localStorage.getItem(\"accode\");\n          const url = additionalValue ? `/login/${additionalValue}` : '/login';\n          navigate(url);\n      }\n    }).catch(err => {\n      Swal.fire( err.response.data.message, 'Please try again '  ) \n      setState((prevState) => ({ ...prevState, loader: false, allemailtemplatesList: [], }))\n    })\n  }\n  useEffect(() => {\n    let userid=localStorage.getItem(\"userid\");\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem(\"token\");\n    axios.get(`${process.env.REACT_APP_BASE_URL_BASE}auth/users/${userid}`)\n      .then((res) => {\n         let permission = res.data.roles?res.data.roles[0][\"email_templates\"]:null;\n        setState((prevState) => ({\n          ...prevState, \n          permissions:permission\n        }))\n      }).catch((err) => {      })\n    const thead = document.getElementsByTagName(\"thead\");\n    thead[0].style.backgroundColor = localStorage.getItem('tableColor');\n    thead[1]?thead[1].style.backgroundColor = localStorage.getItem('tableColor'):null;\n   \n    tableList(\"1\");\n  }, []);\n  const onPaginationChange = (page) => {\n    tableList(page);\n  }\n \n  const emailtemplateActionsHandle = (id) => {\n    return (\n      <span>\n        {permissions.canUpdate?    <Link id={id} to={`/settings/createemailtemplate/${id}`}>\n          <i className=\"fa fa-pencil\" id=\"pencilspace\" aria-hidden=\"true\"></i>\n        </Link>:null}\n        {permissions.canDelete? <i className=\"fa fa-trash-o\" aria-hidden=\"true\" id=\"trashspace\" onClick={() => { deleteEmail(id) }}></i>:null}\n      </span>\n    )\n  }\n  const deleteEmail = (id) => {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Axios.delete(`email-template/${id}`)\n          .then((response) => {\n            if (response.status == 200) {\n              tableList(\"1\");\n             // allEmails();\n              Swal.fire('Record Deleted!', '', 'success')\n            }\n          }).catch((error) => { \n            Swal.fire( error.response, 'Please try again '  ) \n           })\n      }\n      else {\n        Swal.fire('Your Data safe', '');\n      }\n    })\n  }\n  const indexFormat = (cell, row, enumObject, index) => {\n    return (<>{index + 1}</>)\n  }\n  const dateDisplay = (cell, row) => {\n    return cell !== null && cell !== undefined ? moment(cell).format(\"MM/DD/YYYY\") : \"\";\n  }\n  return (\n    <>\n     {loader?<Spinner\n      className='loaderr'\n       color=\"primary\"\n      > \n      Loading...\n    </Spinner>:null} \n      <Card>\n        <CardBody className='cardbg' style={{backgroundColor: localStorage.getItem('cardColor')}}>\n          <Row>\n            <Col ><h4><strong>Email Templates </strong></h4></Col>\n            <Col>\n            {permissions.canCreate?  <Button color=\"info\" style={{float:\"right\",backgroundColor: localStorage.getItem('btColor')}}  size=\"sm\"  onClick={() => history(\"/settings/createemailtemplate/new\")}>Add Email Template </Button>:null}\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Card >\n                <BootstrapTable data={allemailtemplatesList} keyField=\"sno\" search striped hover multiColumnSearch={true} version='4'>\n                  <TableHeaderColumn width=\"120\" dataAlign='left' dataField='sno' dataFormat={indexFormat} >S No</TableHeaderColumn>\n                  <TableHeaderColumn width=\"130\" dataAlign='left' dataField='name'  >Name</TableHeaderColumn>\n                  <TableHeaderColumn width=\"150\" dataAlign='left' dataField='subject' >Subject</TableHeaderColumn>\n                  <TableHeaderColumn width=\"140\" dataAlign='left' dataField='createdBy' dataSort>Email</TableHeaderColumn>\n                  <TableHeaderColumn width=\"140\" dataAlign='left' dataField='creationDate' dataFormat={dateDisplay} dataSort>Created Date</TableHeaderColumn>\n                  <TableHeaderColumn width=\"130\" dataAlign='left' dataField=\"id\" dataFormat={(id) => emailtemplateActionsHandle(id)} >Action</TableHeaderColumn>\n                </BootstrapTable>\n                <CardFooter>\n                  {allemailtemplatesList.length >= 1 ? <TablePagination totalPages={totalPages} currentPage={currentPage} callbackfunc={onPaginationChange} defaultPageSize={\"10\"}></TablePagination> : null}\n                </CardFooter>\n              </Card>\n            </Col>\n          </Row>\n          <Row>\n          </Row>\n        </CardBody>\n      </Card>\n    </>\n  )\n}\nexport default allemailtemplates\n"],"names":["TablePagination","props","_useState","useState","totalDocs","totalPages","currentPage","_useState2","_slicedToArray","data","_jsx","_Fragment","children","Pagination","showTotal","total","range","concat","showQuickJumper","pageSizeOptions","showSizeChanger","defaultPageSize","defaultCurrent","onShowSizeChange","console","log","onChange","callbackfunc","locale","localeInfo","allemailtemplatesList","loader","permissions","canCreate","canView","canUpdate","canDelete","initialData","setState","history","useNavigate","tableList","page","prevState","_objectSpread","Axios","then","res","content","totalElements","pageNumber","status","Swal","title","icon","text","additionalValue","localStorage","getItem","url","navigate","catch","err","response","message","useEffect","userid","axios","process","permission","roles","thead","document","getElementsByTagName","style","backgroundColor","deleteEmail","id","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","error","_jsxs","Spinner","className","color","Card","CardBody","Row","Col","Button","float","size","onClick","BootstrapTable","keyField","search","striped","hover","multiColumnSearch","version","TableHeaderColumn","width","dataAlign","dataField","dataFormat","cell","row","enumObject","index","dataSort","undefined","moment","format","Link","to","emailtemplateActionsHandle","CardFooter","length"],"sourceRoot":""}