"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2484],{92484:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(1413),s=a(29439),r=a(72791),d=a(57689),l=a(22976),i=a(84951),c=a(77710),o=a(30212),m=a(72426),h=a.n(m),u=a(21830),x=a.n(u),j=a(80184),y=function(e){var t=(0,r.useState)({title:"",eventType:"",eventCategory:"",eventTypeOptions:"",description:"",registrationFee:"",perdayFee:"",alldayCheck:!0,customCheck:!1,startDateAll:"",startTimeAll:"",endTimeAll:""}),a=(0,s.Z)(t,2),m=a[0],u=a[1],y=(0,r.useState)([{startDate:"",endDate:"",startTime:"",endTime:""}]),g=(0,s.Z)(y,2),v=g[0],f=g[1],p=(0,r.useState)([{mathValue:"",greaterlessnumber:"",discountfeeValue:"",discountfeeNumber:""}]),D=(0,s.Z)(p,2),b=D[0],T=D[1],_=(0,r.useState)(""),X=(0,s.Z)(_,2),C=X[0],w=(X[1],(0,r.useState)("")),F=(0,s.Z)(w,2),I=F[0],E=(F[1],(0,r.useState)("")),S=(0,s.Z)(E,2),k=S[0],N=S[1],J=(0,r.useState)(""),Z=(0,s.Z)(J,2),A=Z[0],O=(Z[1],(0,r.useState)("")),Y=(0,s.Z)(O,2),R=Y[0],P=(Y[1],(0,r.useState)([])),H=(0,s.Z)(P,2),M=H[0],V=H[1],z=(0,d.UO)(),B=(0,d.s0)();(0,r.useEffect)((function(){var e=document.getElementsByTagName("thead");e[0].style.backgroundColor=localStorage.getItem("tableColor"),e[1].style.backgroundColor=localStorage.getItem("tableColor"),W(),$(),"new"!==z.id&&c.Z.get("event/".concat(z.id)).then((function(e){var t={value:e.data.eventType.id,label:e.data.eventType.name},a={value:e.data.eventCategory.id,label:e.data.eventCategory.name};if(!0===e.data.isAllDay)u((0,n.Z)((0,n.Z)({},m),{},{title:e.data.name,eventType:t,eventCategory:a,description:e.data.description,registrationFee:e.data.registrationFee,perdayFee:e.data.perDay,alldayCheck:e.data.isAllDay,customCheck:e.data.isCustomRange,startDateAll:e.data.allDayEvent.eventDate?h()(e.data.allDayEvent.eventDate).format("MM/DD/YYYY"):e.data.allDayEvent.eventDate,startTimeAll:e.data.allDayEvent.startTime?h()(e.data.allDayEvent.startTime,["HH:mm:ss"]).format("hh:mm a"):e.data.allDayEvent.startTime,endTimeAll:e.data.allDayEvent.endTime?h()(e.data.allDayEvent.endTime,["HH:mm:ss"]).format("hh:mm a"):e.data.allDayEvent.endTime}));else{var s=[];e.data.eventPricing.map((function(e,t){s.push({mathValue:{value:e.eventPricingCriteria.id,label:e.eventPricingCriteria.name},greaterlessnumber:e.totalDays,discountfeeNumber:e.discount,discountfeeValue:{value:e.discountOrFee.id,label:e.discountOrFee.name}})})),T(s);var r=[];r.push({startDate:e.data.customRangeEvent.startDate?h()(e.data.customRangeEvent.startDate).format("MM/DD/YYYY"):e.data.customRangeEvent.startDate,endDate:e.data.customRangeEvent.endDate?h()(e.data.customRangeEvent.endDate).format("MM/DD/YYYY"):e.data.customRangeEvent.endDate,startTime:e.data.customRangeEvent.startTime?h()(e.data.customRangeEvent.startTime,["HH:mm:ss"]).format("hh:mm a"):e.data.customRangeEvent.startTime,endTime:e.data.customRangeEvent.endTime?h()(e.data.customRangeEvent.endTime,["HH:mm:ss"]).format("hh:mm a"):e.data.customRangeEvent.endTime}),f(r),u((0,n.Z)((0,n.Z)({},m),{},{title:e.data.name,eventType:t,eventCategory:a,description:e.data.description,registrationFee:e.data.registrationFee,perdayFee:e.data.perDay,alldayCheck:e.data.isAllDay,customCheck:e.data.isCustomRange}))}})).catch((function(e){}))}),[]);var W=function(){c.Z.get("event/".concat(z.id,"/group-messages")).then((function(e){N(e.data)})).catch((function(e){x().fire(e.response.data.message,"Please try again ")}))},$=function(){c.Z.get("event/".concat(z.id,"/event-registration")).then((function(e){if(V(e.data),401==e.status){x().fire({title:"error",icon:"error",text:"Session Expired"});var t=localStorage.getItem("accode"),a=t?"/login/".concat(t):"/login";B(a)}})).catch((function(e){x().fire(e.response.data.message,"Please try again ")}))},q=function(e){return(0,j.jsx)(j.Fragment,{children:h()(e).format("MM/DD/YYYY")})};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(i.Zb,{children:[(0,j.jsxs)(i.eW,{className:"cardbg",children:[(0,j.jsx)("h3",{children:(0,j.jsx)("strong",{children:"Event"})}),(0,j.jsx)(i.Zb,{className:"cardbgw",children:(0,j.jsx)(i.eW,{children:(0,j.jsxs)(i.X2,{children:[(0,j.jsx)(i.JX,{md:6,children:(0,j.jsx)(i.X2,{children:(0,j.jsx)(i.l0,{className:"add-edit-user-form",children:(0,j.jsxs)(i.eW,{className:"cardbgw",children:[(0,j.jsxs)(i.X2,{children:[(0,j.jsxs)(i.JX,{md:4,children:[(0,j.jsx)(i.__,{for:"",children:"Title "}),(0,j.jsx)(i.II,{type:"text",name:"title",placeholder:"Title",value:m.title,readOnly:!0})]}),(0,j.jsxs)(i.JX,{md:4,children:[(0,j.jsx)(i.__,{for:"eventType",children:"Type of event"}),(0,j.jsx)(l.ZP,{name:"eventType",value:m.eventType,options:C,isDisabled:!0})]}),(0,j.jsxs)(i.JX,{md:4,children:[(0,j.jsx)(i.__,{for:"eventType",children:"Category of event"}),(0,j.jsx)(l.ZP,{name:"eventCategory",value:m.eventCategory,options:I,isDisabled:!0})]})]}),(0,j.jsx)("br",{}),(0,j.jsxs)(i.X2,{children:[(0,j.jsxs)(i.JX,{md:3,className:"dayschange",children:[(0,j.jsx)(i.X2,{children:(0,j.jsx)(i.cw,{switch:!0,children:(0,j.jsxs)(i.__,{children:[(0,j.jsx)(i.II,{type:"switch",name:"alldayCheck",checked:m.alldayCheck,readOnly:!0}),"All Day"]})})}),(0,j.jsx)(i.X2,{children:(0,j.jsx)(i.cw,{switch:!0,children:(0,j.jsxs)(i.__,{children:[(0,j.jsx)(i.II,{type:"switch",name:"customCheck",checked:m.customCheck,readOnly:!0}),"Custom Range"]})})})]}),(0,j.jsxs)(i.JX,{md:8,children:[m.alldayCheck&&(0,j.jsxs)(i.X2,{className:"rowextend3",children:[(0,j.jsx)(i.JX,{md:4,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{children:"Date"}),(0,j.jsx)(i.II,{name:"startDateAll",value:m.startDateAll,readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:4,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{children:" Start Time"}),(0,j.jsx)(i.II,{name:"startTimeAll",value:m.startTimeAll,readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:4,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{children:" End Time"}),(0,j.jsx)(i.II,{name:"endTimeAll",value:m.endTimeAll,readOnly:!0})]})})]}),!0===m.customCheck?v.map((function(e,t){return(0,j.jsx)("div",{children:(0,j.jsxs)(i.X2,{className:"rowextend4",children:[(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{children:0===t?"Start Date":""}),(0,j.jsx)(i.II,{name:"startDate",value:e.startDate||"startDate",readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{children:0===t?"End Date":""}),(0,j.jsx)(i.II,{name:"endDate",value:e.endDate||"endDate",readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsxs)(i.__,{children:[" ",0===t?"Start Time":""]}),(0,j.jsx)(i.II,{name:"startTime",value:e.startTime||"startTime",readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsxs)(i.__,{children:[" ",0===t?"End Time":""]}),(0,j.jsx)(i.II,{name:"endTime",value:e.endTime||"endTime",readOnly:!0})]})})]})},t)})):""]})]}),(0,j.jsx)(i.X2,{children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{for:"eventBody",children:"Description"}),(0,j.jsx)(i.II,{name:"description",value:m.description,type:"textarea",placeholder:"content here...",rows:"2",readOnly:!0})]})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h5",{children:(0,j.jsx)("strong",{children:"Pricing Details"})}),(0,j.jsxs)("div",{className:"cardcolor",children:[(0,j.jsxs)(i.X2,{children:[(0,j.jsxs)(i.JX,{md:6,children:[(0,j.jsx)(i.__,{for:"",children:"Event Fee $"}),(0,j.jsx)(i.II,{type:"number",placeholder:"Per day fee ",name:"perdayFee",value:m.perdayFee,readOnly:!0})]}),(0,j.jsxs)(i.JX,{md:6,children:[(0,j.jsx)(i.__,{for:"",children:"Registration Fee $ "}),(0,j.jsx)(i.II,{type:"number",placeholder:"Registration fee",name:"registrationFee",value:m.registrationFee,readOnly:!0})]})]}),(0,j.jsx)("br",{}),(0,j.jsx)(i.X2,{children:!0===m.customCheck?b.map((function(e,t){return(0,j.jsx)("div",{children:(0,j.jsxs)(i.X2,{className:"rowextend5",children:[(0,j.jsx)(i.JX,{md:3,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsx)(i.__,{children:0===t?"Attending Days ":""}),(0,j.jsx)(l.ZP,{name:"frequency",value:e.mathValue,options:A,isDisabled:!0})]})}),(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsxs)(i.__,{children:[" ",0===t?"Days":""]}),(0,j.jsx)(i.II,{type:"number",name:"greaterlessnumber",placeholder:"Days count",value:e.greaterlessnumber||"greaterlessnumber",readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsxs)(i.__,{children:[" ",0===t?"Then Apply":""]}),(0,j.jsx)(i.II,{type:"number",name:"discountfeeNumber",placeholder:"Less amount",value:e.discountfeeNumber||"discountfeeNumber",readOnly:!0})]})}),(0,j.jsx)(i.JX,{md:2,children:(0,j.jsxs)(i.cw,{children:[(0,j.jsxs)(i.__,{children:[" ",0===t?"Discount/Fee":""]}),(0,j.jsx)(l.ZP,{name:"discountfeeValue",value:e.discountfeeValue,options:R,isDisabled:!0})]})})]})},t)})):""})]})]})]})})})}),(0,j.jsxs)(i.JX,{md:6,children:[(0,j.jsxs)(i.X2,{children:[(0,j.jsx)(i.JX,{children:(0,j.jsx)("h4",{children:(0,j.jsx)("strong",{children:"Registered"})})}),(0,j.jsxs)(i.JX,{children:[" ",(0,j.jsx)(i.zx,{type:"button",color:"primary",size:"sm",className:"floatg",onClick:function(){return B("/events/studentEvent/".concat(z.id))},children:"Register"})]})]}),(0,j.jsx)(i.X2,{className:"rowborder",children:(0,j.jsx)(i.Zb,{className:"marginStyleForTable",children:(0,j.jsxs)(o.c8,{data:M,keyField:"email",striped:!0,hover:!0,version:"4",tableContainerClass:"my-custom-class",children:[(0,j.jsx)(o.bY,{width:"120",dataAlign:"left",dataField:"name",dataFormat:function(e,t){return 1==Object.keys(t).includes("guestStudent")?(0,j.jsx)("span",{children:t?"".concat(t.guestStudent.firstName," ").concat(t.guestStudent.lastName):null}):(0,j.jsx)("span",{children:t?"".concat(t.student.firstName," ").concat(t.student.lastName):null})},dataSort:!0,children:"Name"}),(0,j.jsx)(o.bY,{width:"120",dataAlign:"left",dataField:"email",dataFormat:function(e,t){return 1==Object.keys(t).includes("guestStudent")?(0,j.jsx)(j.Fragment,{children:t.guestStudent.email}):(0,j.jsx)(j.Fragment,{children:t.student.email})},dataSort:!0,children:"Email"}),(0,j.jsx)(o.bY,{width:"80",dataAlign:"left",dataField:"creationDate",dataFormat:q,dataSort:!0,children:"Sign-up Date"})]})})}),(0,j.jsx)("br",{}),(0,j.jsxs)(i.X2,{children:[(0,j.jsx)(i.JX,{children:(0,j.jsx)("h4",{children:(0,j.jsx)("strong",{children:"Email"})})}),(0,j.jsxs)(i.JX,{children:[" ",(0,j.jsx)(i.zx,{type:"button",color:"primary",size:"sm",className:"floatg",onClick:function(){return B("/events/communication/group/".concat(z.id))},children:"Notify"})]})]}),(0,j.jsx)(i.X2,{className:"rowborder",children:(0,j.jsx)(i.Zb,{className:"marginStyleForTable",children:(0,j.jsxs)(o.c8,{data:k,keyField:"subject",striped:!0,hover:!0,version:"4",tableContainerClass:"my-custom-class",children:[(0,j.jsx)(o.bY,{width:"100",dataAlign:"left",dataField:"subject",dataSort:!0,children:"Subject"}),(0,j.jsx)(o.bY,{width:"100",dataAlign:"left",dataField:"dateSent",dataFormat:q,dataSort:!0,children:"Date Sent"})]})})})]})]})})})]}),(0,j.jsx)(i.X2,{children:(0,j.jsxs)("center",{children:[(0,j.jsx)(i.zx,{size:"md",type:"button",id:"cancelbutton",onClick:function(){return B("/events")},children:"Back"})," "]})})]})})}}}]);
//# sourceMappingURL=2484.81c82923.chunk.js.map