"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3550,8664,9417],{10003:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(29439),r=n(72791),i=n(70697),s=(n(87092),n(66293)),o=n(80184);function c(e){var t=(0,r.useState)({totalDocs:e.totalPages,currentPage:e.currentPage}),n=(0,a.Z)(t,2),c=n[0];n[1];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.Z,{showTotal:function(e,t){return"".concat(t[0]," - ").concat(t[1]," of ").concat(e," items")},showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,defaultPageSize:e.defaultPageSize,defaultCurrent:c.currentPage,onShowSizeChange:function(e){console.log("onShowSizeChange",e)},onChange:function(t){e.callbackfunc(t)},total:c.totalDocs,locale:s.Z})})}},13550:function(e,t,n){n.r(t);var a=n(1413),r=n(29439),i=n(72791),s=n(84951),o=n(81694),c=n.n(o),l=n(57689),d=n(58664),u=n(69417),h=n(63263),g=n(80184),m={studPermissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0},inquPermissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0}};t.default=function(){var e=(0,i.useState)("1"),t=(0,r.Z)(e,2),n=t[0],o=t[1],f=(0,i.useState)(m),x=(0,r.Z)(f,2),j=x[0],p=x[1],S=j.studPermissions,y=j.inquPermissions,C=(0,l.UO)(),b=function(e){n!==e&&o(e)};return(0,i.useEffect)((function(){b(C.id);var e=localStorage.getItem("userid");h.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),h.Z.get("".concat("http://localhost:8080/api/v1/","auth/users/").concat(e)).then((function(e){var t=e.data.roles?e.data.roles[0].students:null,n=e.data.roles?e.data.roles[0].inquiries:null;p((function(e){return(0,a.Z)((0,a.Z)({},e),{},{studPermissions:t,inquPermissions:n})}))})).catch((function(e){}))}),[]),(0,g.jsx)("div",{children:(0,g.jsxs)(s.Zb,{children:[(0,g.jsx)(s.eW,{className:"cardbg",style:{backgroundColor:localStorage.getItem("cardColor")},children:(0,g.jsxs)(s.JL,{tabs:!0,style:{cursor:"pointer"},children:[y.canView?(0,g.jsx)(s.LY,{children:(0,g.jsx)(s.OL,{className:c()({active:"1"===n}),onClick:function(){b("1")},children:(0,g.jsx)("h5",{children:(0,g.jsx)("strong",{children:"Inquiry"})})})}):null,S.canView?(0,g.jsx)(s.LY,{children:(0,g.jsx)(s.OL,{className:c()({active:"2"===n}),onClick:function(){b("2")},children:(0,g.jsx)("h5",{children:(0,g.jsx)("strong",{children:"Students "})})})}):null]})}),(0,g.jsxs)(s.I5,{activeTab:n,children:[y.canView?(0,g.jsx)(s.Jm,{tabId:"1",children:(0,g.jsx)(s.X2,{children:(0,g.jsx)(s.JX,{sm:"12",children:(0,g.jsx)(d.default,{})})})}):null,S.canView?(0,g.jsx)(s.Jm,{tabId:"2",children:(0,g.jsx)(s.X2,{children:(0,g.jsx)(s.JX,{sm:"12",children:(0,g.jsx)(u.default,{})})})}):null]})]})})}},58664:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(1413),r=n(29439),i=n(72791),s=n(57689),o=n(84951),c=n(30212),l=n(77710),d=n(72426),u=n.n(d),h=n(10003),g=n(21830),m=n.n(g),f=n(9085),x=n(63263),j=n(80184),p={inquiryList:[],totalPages:"",currentPage:"",loader:!1,permissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0},studPermissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0}};function S(e){var t=(0,i.useState)(p),n=(0,r.Z)(t,2),d=n[0],g=n[1],S=d.inquiryList,y=d.totalPages,C=d.currentPage,b=d.loader,Z=d.permissions,P=d.studPermissions,v=(0,s.s0)(),w=function(e){g((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loader:!0})})),l.Z.get("inquiry/inquiries?page=".concat(e-1,"&size=10&sort=id,desc")).then((function(e){g((function(t){return(0,a.Z)((0,a.Z)({},t),{},{inquiryList:e.data.content,totalPages:e.data.totalElements,currentPage:e.data.pageNumber+1,loader:!1})}))})).catch((function(e){m().fire(e.response.data.message,"Please try again later"),g((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loader:!1,inquiryList:[]})}))}))};(0,i.useEffect)((function(){var e=localStorage.getItem("userid");x.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),x.Z.get("".concat("http://localhost:8080/api/v1/","auth/users/").concat(e)).then((function(e){var t=e.data.roles?e.data.roles[0].inquiries:null;console.log(e,t);var n=e.data.roles?e.data.roles[0].students:null;g((function(e){return(0,a.Z)((0,a.Z)({},e),{},{permissions:t,studPermissions:n})}))})).catch((function(e){}));var t=document.getElementsByTagName("thead");t[0].style.backgroundColor=localStorage.getItem("tableColor"),t[1]&&(t[1].style.backgroundColor=localStorage.getItem("tableColor")),t[2]&&(t[2].style.backgroundColor=localStorage.getItem("tableColor")),w("1")}),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(f.Ix,{}),b?(0,j.jsx)(o.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,j.jsxs)(o.eW,{className:"cardbg",style:{backgroundColor:localStorage.getItem("cardColor")},children:[(0,j.jsxs)(o.X2,{children:[(0,j.jsx)(o.JX,{children:(0,j.jsx)("h4",{children:(0,j.jsx)("strong",{children:"Inquiry List"})})}),(0,j.jsx)(o.JX,{children:Z.canCreate?(0,j.jsx)(o.zx,{color:"primary",size:"sm",style:{float:"right",backgroundColor:localStorage.getItem("btColor")},onClick:function(){return v("/studentTabs/CreateInquiry/new")},children:"Add Inquiry"}):null})]}),(0,j.jsx)("div",{className:"height15"}),(0,j.jsx)(o.X2,{children:(0,j.jsx)(o.JX,{children:(0,j.jsxs)(o.Zb,{children:[(0,j.jsxs)(c.c8,{data:S,hover:!0,multiColumnSearch:!0,version:"4",search:!0,children:[(0,j.jsx)(c.bY,{width:"140",dataField:"firstName",dataFormat:function(e,t){return(0,j.jsx)("span",{children:t?"".concat(t.firstName," ").concat(t.lastName):null})},dataSort:!0,children:"Name"}),(0,j.jsx)(c.bY,{width:"160",dataField:"email",dataSort:!0,children:"Email"}),(0,j.jsx)(c.bY,{width:"110",dataField:"phone",dataSort:!0,children:"Phone"}),(0,j.jsx)(c.bY,{width:"110",dataField:"inquiryServices",dataFormat:function(e,t){return(0,j.jsx)("span",{children:t.inquiryServices?t.inquiryServices.name:null})},dataSort:!0,children:" Services"}),(0,j.jsx)(c.bY,{width:"110",dataField:"inquiryStatus",dataFormat:function(e,t){return(0,j.jsx)("span",{children:t.inquiryStatus?t.inquiryStatus.name:null})},dataSort:!0,children:" Status"}),(0,j.jsx)(c.bY,{width:"110",dataField:"inquiryType",dataFormat:function(e,t){return(0,j.jsx)("span",{children:t.inquiryType?t.inquiryType.name:null})},dataSort:!0,children:" Type"}),(0,j.jsx)(c.bY,{width:"120",dataField:"creationDate",dataFormat:function(e){return(0,j.jsx)(j.Fragment,{children:u()(e).format("MM/DD/YYYY")})},dataSort:!0,children:"Created Date"}),(0,j.jsx)(c.bY,{width:"100",dataField:"id",dataAlign:"center",dataFormat:function(e,t){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("span",{children:[Z.canUpdate?(0,j.jsx)("i",{className:"fa fa-pencil",title:"Edit",id:"pencilspace","aria-hidden":"true",onClick:function(){return v("/studentTabs/CreateInquiry/".concat(t.id))},style:{cursor:"pointer",fontSize:"15px",color:"green"}}):null,Z.canDelete?(0,j.jsx)("i",{className:"fa fa-trash-o",title:"Delete","aria-hidden":"true",id:"trashspace",onClick:function(){var e;e=t.id,m().fire({title:"Are you sure?",text:"Are you sure you want delete?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&l.Z.delete("inquiry/".concat(e)).then((function(e){w("1"),m().fire({position:"center",icon:"success",title:"Record deleted successfully",showConfirmButton:!1,timer:1500})})).catch((function(e){m().fire(e.response.data.message,"Please try again ")}))}))},style:{cursor:"pointer",fontSize:"15px",padding:"0px 10px 0px 0px",color:"red"}}):null,P.canCreate&&t.inquiryStatus&&"Register"===t.inquiryStatus.name?(0,j.jsx)("i",{className:"fa fa-user",title:"Redirect To Add Student",id:"pencilspace","aria-hidden":"true",onClick:function(){return v("/studentTabs/students/create")},style:{cursor:"pointer",fontSize:"15px",color:"green"}}):null]})})},isKey:!0,children:"Action"})]}),(0,j.jsx)(o.iR,{children:S.length>=1?(0,j.jsx)(h.Z,{totalPages:y,currentPage:C,callbackfunc:function(e){w(e)},defaultPageSize:"10"}):null})]})})})]})]})}},69417:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(1413),r=n(29439),i=n(72791),s=n(57689),o=n(84951),c=n(30212),l=n(77710),d=n(72426),u=n.n(d),h=n(10003),g=n(21830),m=n.n(g),f=n(9085),x=n(63263),j=n(80184),p={studentList:[],totalPages:"",currentPage:"",loader:!1,permissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0}};function S(e){var t=(0,i.useState)(p),n=(0,r.Z)(t,2),d=n[0],g=n[1],S=d.studentList,y=d.totalPages,C=d.currentPage,b=d.loader,Z=d.permissions,P=(0,s.s0)(),v=function(e){g((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loader:!0})})),l.Z.get("students?page=".concat(e-1,"&size=10&sort=id,desc")).then((function(e){var t=e.data.content?e.data.content:[];g((function(n){return(0,a.Z)((0,a.Z)({},n),{},{studentList:t,totalPages:e.data.totalElements,currentPage:e.data.pageNumber+1,loader:!1})}))})).catch((function(e){m().fire(e.response.data.message,"Please try again later"),g((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loader:!1,studentList:[]})}))}))};(0,i.useEffect)((function(){var e=localStorage.getItem("userid");x.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),x.Z.get("".concat("http://localhost:8080/api/v1/","auth/users/").concat(e)).then((function(e){var t=e.data.roles?e.data.roles[0].students:null;g((function(e){return(0,a.Z)((0,a.Z)({},e),{},{permissions:t})}))})).catch((function(e){}));var t=document.getElementsByTagName("thead");t[0].style.backgroundColor=localStorage.getItem("tableColor"),t[1]&&(t[1].style.backgroundColor=localStorage.getItem("tableColor")),t[2]&&(t[2].style.backgroundColor=localStorage.getItem("tableColor")),v("1")}),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(f.Ix,{}),b?(0,j.jsx)(o.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,j.jsxs)(o.eW,{className:"cardbg",style:{backgroundColor:localStorage.getItem("cardColor")},children:[(0,j.jsxs)(o.X2,{children:[(0,j.jsx)(o.JX,{children:(0,j.jsx)("h4",{children:(0,j.jsx)("strong",{children:"Students List"})})}),(0,j.jsx)(o.JX,{children:Z.canCreate?(0,j.jsx)(o.zx,{color:"primary",size:"sm",style:{float:"right",backgroundColor:localStorage.getItem("btColor")},onClick:function(){return P("/studentTabs/students/create")},children:"Add Student"}):null})]}),(0,j.jsx)("div",{className:"height15"}),(0,j.jsx)(o.X2,{children:(0,j.jsx)(o.JX,{children:(0,j.jsxs)(o.Zb,{children:[(0,j.jsxs)(c.c8,{data:S,hover:!0,multiColumnSearch:!0,version:"4",search:!0,children:[(0,j.jsx)(c.bY,{width:"140",dataField:"firstName",dataFormat:function(e,t){return(0,j.jsx)("span",{children:t?"".concat(t.firstName," ").concat(t.lastName):null})},dataSort:!0,children:"Student Name"}),(0,j.jsx)(c.bY,{width:"180",dataField:"email",dataSort:!0,children:"Email"}),(0,j.jsx)(c.bY,{width:"120",dataField:"phone",dataSort:!0,children:"Phone"}),(0,j.jsx)(c.bY,{width:"100",dataField:"creationDate",dataFormat:function(e){return(0,j.jsx)(j.Fragment,{children:u()(e).format("MM/DD/YYYY")})},dataSort:!0,children:"Registered Date"}),(0,j.jsx)(c.bY,{width:"60",dataField:"id",dataAlign:"center",dataFormat:function(e,t){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("span",{children:Z.canUpdate?(0,j.jsx)("i",{className:"fa fa-pencil",id:"pencilspace","aria-hidden":"true",onClick:function(){return P("/studentTabs/students/edit/".concat(t.id))},style:{cursor:"pointer",fontSize:"15px",color:"green"}}):null})})},isKey:!0,children:"Action"})]}),(0,j.jsx)(o.iR,{children:S&&S.length>=1?(0,j.jsx)(h.Z,{totalPages:y,currentPage:C,callbackfunc:function(e){v(e)},defaultPageSize:"10"}):null})]})})})]})]})}}}]);
//# sourceMappingURL=3550.22c3cf7e.chunk.js.map