"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4320],{10003:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(29439),r=a(72791),c=a(70697),i=(a(87092),a(66293)),o=a(80184);function l(e){var t=(0,r.useState)({totalDocs:e.totalPages,currentPage:e.currentPage}),a=(0,n.Z)(t,2),l=a[0];a[1];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Z,{showTotal:function(e,t){return"".concat(t[0]," - ").concat(t[1]," of ").concat(e," items")},showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,defaultPageSize:e.defaultPageSize,defaultCurrent:l.currentPage,onShowSizeChange:function(e){console.log("onShowSizeChange",e)},onChange:function(t){e.callbackfunc(t)},total:l.totalDocs,locale:i.Z})})}},14320:function(e,t,a){a.r(t);var n=a(1413),r=a(29439),c=a(72791),i=a(57689),o=a(84951),l=a(30212),s=a(77710),d=a(10003),u=a(21830),h=a.n(u),f=a(72426),g=a.n(f),m=(a(99506),a(63263)),x=a(80184);t.default=function(){var e=(0,c.useState)({allAttendenceLists:[],totalPages:"",currentPage:"",loader:!1,permissions:{canCreate:!0,canView:!0,canUpdate:!0,canDelete:!0}}),t=(0,r.Z)(e,2),a=t[0],u=t[1],f=a.allAttendenceLists,j=a.totalPages,S=a.currentPage,p=a.loader,Z=a.permissions,b=(0,i.s0)(),A=function(e){u((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loader:!0})})),s.Z.get("/student-attendances?page=".concat(e-1,"&size=10&sort=id,desc")).then((function(e){if(u((function(t){return(0,n.Z)((0,n.Z)({},t),{},{allAttendenceLists:e.data.content,totalPages:e.data.totalElements,currentPage:e.data.pageNumber+1,loader:!1})})),401==e.status){h().fire({title:"error",icon:"error",text:"Session Expired"});var t=localStorage.getItem("accode"),a=t?"/login/".concat(t):"/login";navigate(a)}})).catch((function(e){h().fire(e.response.data.message,"Please try again later"),u((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loader:!1,allAttendenceLists:[]})}))}))};(0,c.useEffect)((function(){var e=localStorage.getItem("userid");m.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),m.Z.get("".concat("http://3.139.62.119:8080/api/v1/","auth/users/").concat(e)).then((function(e){var t=e.data.roles?e.data.roles[0].student_attendences:null;u((function(e){return(0,n.Z)((0,n.Z)({},e),{},{permissions:t})}))})).catch((function(e){})),A("1")}),[]);return(0,x.jsxs)(x.Fragment,{children:[p?(0,x.jsx)(o.$j,{className:"loaderr",color:"primary",children:"Loading..."}):null,(0,x.jsx)(o.Zb,{children:(0,x.jsxs)(o.eW,{className:"cardbg",children:[(0,x.jsxs)(o.X2,{children:[(0,x.jsx)(o.JX,{children:(0,x.jsx)("h4",{children:(0,x.jsx)("strong",{children:"Student Attendence List "})})}),(0,x.jsx)(o.JX,{children:Z.canCreate?(0,x.jsx)(o.zx,{outline:!0,color:"info",size:"sm",className:"buttonfloat",onClick:function(){return b("/studentattendence/new")},children:"Add Attendence"}):null})]}),(0,x.jsx)(o.X2,{children:(0,x.jsxs)(o.Zb,{children:[(0,x.jsxs)(l.c8,{data:f,keyField:"sno",search:!0,striped:!0,hover:!0,multiColumnSearch:!0,version:"4",children:[(0,x.jsx)(l.bY,{width:"80",dataAlign:"left",dataField:"sno",dataFormat:function(e,t,a,n){return(0,x.jsx)(x.Fragment,{children:n+1})},dataSort:!0,children:"S No"}),(0,x.jsx)(l.bY,{width:"160",dataAlign:"left",dataField:"name",dataSort:!0,children:"Student"}),(0,x.jsx)(l.bY,{width:"140",dataAlign:"left",dataField:"masterName",dataSort:!0,children:"Master"}),(0,x.jsx)(l.bY,{width:"100",dataAlign:"left",dataField:"batch",dataSort:!0,children:"Batch"}),(0,x.jsx)(l.bY,{width:"100",dataAlign:"left",dataField:"studentAttendanceDate",dataFormat:function(e,t){return null!==e&&void 0!==e?g()(e).format("MM/DD/YYYY"):""},dataSort:!0,children:"Date"}),(0,x.jsx)(l.bY,{width:"100",dataAlign:"left",dataField:"studentAttendanceTime",dataSort:!0,dataFormat:function(e,t){return null!==e&&void 0!==e?g()(e,["HH:mm"]).format("hh:mm a"):""},children:"In-Time"})]}),(0,x.jsx)(o.iR,{children:f.length>=1?(0,x.jsx)(d.Z,{totalPages:j,currentPage:S,callbackfunc:function(e){A(e)},defaultPageSize:"10"}):null})]})})]})})]})}},99506:function(){}}]);
//# sourceMappingURL=4320.48514046.chunk.js.map