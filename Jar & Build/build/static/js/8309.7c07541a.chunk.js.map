{"version":3,"file":"static/js/8309.7c07541a.chunk.js","mappings":"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","sources":["hoc/pagination.js","views/settings/certification/certificationsList.js"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react'\nimport Pagination from \"rc-pagination\";\nimport \"rc-pagination/assets/index.css\";\nimport localeInfo from \"rc-pagination/lib/locale/en_US\";\n \nexport default function TablePagination(props) {\n  const [data,setData] = useState({ totalDocs:props.totalPages,currentPage:props.currentPage})\n  const  onPaginationChange=(data)=>{\n    props.callbackfunc(data);\n  }\n  const  onShowSizeChange=(data)=>{\n    console.log(\"onShowSizeChange\",data)\n  }\n  return (\n    <>\n    <Pagination\n     showTotal={(total, range) =>\n      `${range[0]} - ${range[1]} of ${total} items`\n      }\n       showQuickJumper\n    pageSizeOptions={['10', '20', '50', '100']}\n    showSizeChanger\n    defaultPageSize={props.defaultPageSize}\n    defaultCurrent={data.currentPage}\n    onShowSizeChange={ onShowSizeChange}\n    onChange={onPaginationChange}\n    total={data.totalDocs}\n    locale={localeInfo}\n  />\n</>\n  )\n}\n","import React,{useState,useEffect}  from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport { Col, Card,CardBody,CardFooter, Row,Button,Spinner } from \"reactstrap\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nimport Axios from \"../../../hoc/axiosConfig\"\nimport moment from 'moment/moment';\nimport TablePagination from '../../../hoc/pagination';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nconst certificationsinitialData= {certificationsList:[],totalPages:\"\",currentPage:\"\",loader:false,\npermissions:{canCreate: true, canView: true, canUpdate: true, canDelete: true}}\n\nexport default function certificationsList() {\n  const [certificationsinitial, setState] = useState(certificationsinitialData);\n  const {certificationsList,totalPages,currentPage,loader,permissions} =  certificationsinitial;\n  const navigate = useNavigate();\n   const tableList = (page)=>{\n    setState((prevState)=>({...prevState,loader:true}))\n    Axios.get(`certificate?page=${page-1}&size=10&sort=id,desc`).then((res)=>{\n        setState((prevState)=>({\n        ...prevState,\n        certificationsList:res.data.content,\n        totalPages:res.data.totalElements,\n        currentPage:res.data.pageNumber+1,\n        loader:false\n      })) \n      }).catch(err=>{\n        Swal.fire( err.response.data.message, 'Please try again '  ) \n        setState((prevState)=>({...prevState,loader:false,certificationsList:[],}))\n      })\n  }\n  useEffect(() => {\n    let userid=localStorage.getItem(\"userid\");\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem(\"token\");\n    axios.get(`${process.env.REACT_APP_BASE_URL_BASE}auth/users/${userid}`)\n      .then((res) => {\n         let permission = res.data.roles?res.data.roles[0][\"certificates\"]:null;\n        setState((prevState) => ({\n          ...prevState, \n          permissions:permission\n        }))\n      }).catch((err) => {      })\n    tableList(\"1\");\n   }, []);\n   const displayBeltNameHandle=(cell,row)=>{\n    return (<span>{row.level?`${row.level.name}`:null}</span>)\n   }\n   const displayDate = (date)=>{\n    return(<>{moment(date).format(\"MM/DD/YYYY\")}</>)\n  }\n  const onPaginationChange=(page)=>{\n    tableList(page);\n   }\n  const certificateDeleteHandle=(id)=>{\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"Are you sure you want delete?\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem(\"token\");\n        axios.delete(`${process.env.REACT_APP_BASE_URL}/certificate/${id}`).then((res) => {\n            if (res.status == 204) {\n              tableList(\"1\");\n              Swal.fire('Record Deleted!', '', 'success')\n            }\n          }).catch((err) => { \n            Swal.fire( err.response.data.message, 'Please try again '  ) \n        })\n      }\n    })\n  }\n  const certificateActionsHandle=(cell,row)=>{\n    return (\n      <>\n        <span>      \n        {permissions.canUpdate?  <i className=\"fa fa-pencil\" id=\"pencilspace\" aria-hidden=\"true\" onClick={()=> navigate(`/certifications/createcertification/${row.id}`)} style={{ cursor: 'pointer', fontSize: \"15px\", color: \"green\" }}></i>     :null}\n        {permissions.canDelete?      <i className=\"fa fa-trash-o\" aria-hidden=\"true\" onClick={()=>  certificateDeleteHandle(row.id)} style={{ cursor: 'pointer', fontSize: \"15px\", color: \"red\" }}  ></i> :null}\n        </span>\n      </>\n    )\n  }\n  return (\n    <>{loader?<Spinner\n      className='loaderr'\n       color=\"primary\"\n      > \n      Loading...\n    </Spinner>:null}\n    <Card>\n      <CardBody className='cardbg'>\n      <Row>\n        <Col ><h4><strong>Certifications </strong></h4></Col>\n        <Col>\n             {permissions.canCreate? <Button color=\"primary\" size=\"sm\" style={{float:\"right\"}} onClick={()=> navigate(\"/certifications/createcertification/new\")}>Create</Button>:null}\n        </Col>      \n     </Row>\n     <div className='height15'></div>\n     <Row>\n        <Col>\n        <Card >\n           <BootstrapTable data={certificationsList} hover multiColumnSearch={true} version='4' search>\n                <TableHeaderColumn width=\"100\" dataField='level' dataFormat={displayBeltNameHandle} dataSort isKey>Belt Name</TableHeaderColumn>\n                <TableHeaderColumn width=\"100\" dataField='name'  dataSort  >Name</TableHeaderColumn>\n                <TableHeaderColumn width=\"200\" dataField='templateBody' dataSort>Certificate Body</TableHeaderColumn>\n                <TableHeaderColumn width=\"120\" dataField='creationDate'  dataFormat={displayDate}  dataSort>Registered Date</TableHeaderColumn>\n                <TableHeaderColumn width=\"60\"  dataField=\"id\" dataAlign='center' dataFormat={certificateActionsHandle}>Action</TableHeaderColumn>\n            </BootstrapTable>\n            <CardFooter> \n            {certificationsList.length>=1?<TablePagination totalPages={totalPages} currentPage={currentPage} callbackfunc={onPaginationChange} defaultPageSize={\"10\"}></TablePagination>:null}\n            </CardFooter>\n            </Card>\n         </Col>\n      </Row>\n     </CardBody>\n     </Card>\n    </>\n  )\n}\n"],"names":["TablePagination","props","_useState","useState","totalDocs","totalPages","currentPage","_useState2","_slicedToArray","data","_jsx","_Fragment","children","Pagination","showTotal","total","range","concat","showQuickJumper","pageSizeOptions","showSizeChanger","defaultPageSize","defaultCurrent","onShowSizeChange","console","log","onChange","callbackfunc","locale","localeInfo","certificationsinitialData","certificationsList","loader","permissions","canCreate","canView","canUpdate","canDelete","certificationsinitial","setState","navigate","useNavigate","tableList","page","prevState","_objectSpread","Axios","then","res","content","totalElements","pageNumber","catch","err","Swal","response","message","useEffect","userid","localStorage","getItem","axios","process","permission","roles","_jsxs","Spinner","className","color","Card","CardBody","Row","Col","Button","size","style","float","onClick","BootstrapTable","hover","multiColumnSearch","version","search","TableHeaderColumn","width","dataField","dataFormat","cell","row","level","name","dataSort","isKey","date","moment","format","dataAlign","id","cursor","fontSize","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","status","CardFooter","length"],"sourceRoot":""}