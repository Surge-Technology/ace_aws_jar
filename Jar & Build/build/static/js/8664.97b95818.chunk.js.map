{"version":3,"file":"static/js/8664.97b95818.chunk.js","mappings":"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","sources":["hoc/pagination.js","views/students/inquiry/InquiryList.js"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react'\nimport Pagination from \"rc-pagination\";\nimport \"rc-pagination/assets/index.css\";\nimport localeInfo from \"rc-pagination/lib/locale/en_US\";\n \nexport default function TablePagination(props) {\n  const [data,setData] = useState({ totalDocs:props.totalPages,currentPage:props.currentPage})\n  const  onPaginationChange=(data)=>{\n    props.callbackfunc(data);\n  }\n  const  onShowSizeChange=(data)=>{\n    console.log(\"onShowSizeChange\",data)\n  }\n  return (\n    <>\n    <Pagination\n     showTotal={(total, range) =>\n      `${range[0]} - ${range[1]} of ${total} items`\n      }\n       showQuickJumper\n    pageSizeOptions={['10', '20', '50', '100']}\n    showSizeChanger\n    defaultPageSize={props.defaultPageSize}\n    defaultCurrent={data.currentPage}\n    onShowSizeChange={ onShowSizeChange}\n    onChange={onPaginationChange}\n    total={data.totalDocs}\n    locale={localeInfo}\n  />\n</>\n  )\n}\n"," \r\nimport React,{useState,useEffect}  from 'react'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Col, Card,CardBody,CardFooter, Row,Button,Spinner } from \"reactstrap\";\r\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\r\nimport Axios from \"../../../hoc/axiosConfig\"\r\nimport moment from 'moment/moment';\r\nimport TablePagination from '../../../hoc/pagination';\r\nimport Swal from 'sweetalert2';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nconst studentInitialData= {inquiryList:[],totalPages:\"\",currentPage:\"\",loader:false,permissions:{canCreate: true, canView: true, canUpdate: true, canDelete: true},\r\nstudPermissions:{canCreate: true, canView: true, canUpdate: true, canDelete: true}}\r\nexport default function InquiryList(props) {\r\n   const [initialData,setState] = useState(studentInitialData);\r\n  const {inquiryList,totalPages,currentPage,loader,permissions,studPermissions} = initialData\r\nconst history = useNavigate();\r\nconst tableList = (page)=>{\r\n  setState((prevState)=>({...prevState,loader:true}))\r\n  Axios.get(`inquiry/inquiries?page=${page-1}&size=10&sort=id,desc`).then((res)=>{\r\n      setState((prevState)=>({\r\n      ...prevState,\r\n      inquiryList:res.data.content,\r\n      totalPages:res.data.totalElements,\r\n      currentPage:res.data.pageNumber+1,\r\n      loader:false\r\n    })) \r\n     }).catch(err=>{\r\n      Swal.fire(err.response.data.message,'Please try again later');\r\n      setState((prevState)=>({...prevState,loader:false,inquiryList:[],}))\r\n    })\r\n}\r\n \r\nconst deleteInquiryHandle=(id)=>{\r\n  Swal.fire({\r\n    title: 'Are you sure?',\r\n    text: \"Are you sure you want delete?\",\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonColor: '#3085d6',\r\n    cancelButtonColor: '#d33',\r\n    confirmButtonText: 'Yes, delete it!'\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      Axios.delete(`inquiry/${id}`).then((res)=>{\r\n          tableList(\"1\");\r\n              Swal.fire({\r\n                  position: 'center',\r\n                  icon: 'success',\r\n                  title: 'Record deleted successfully',\r\n                  showConfirmButton: false,\r\n                  timer: 1500\r\n                })\r\n          }).catch((err) => { \r\n          Swal.fire( err.response.data.message, 'Please try again '  ) \r\n      })\r\n    }\r\n  })\r\n}\r\n  useEffect(() => {\r\n    let userid=localStorage.getItem(\"userid\");\r\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem(\"token\");\r\n    axios.get(`${process.env.REACT_APP_BASE_URL_BASE}auth/users/${userid}`)\r\n      .then((res) => {\r\n        let permission = res.data.roles?res.data.roles[0][\"inquiries\"]:null;\r\n        console.log(res,permission);\r\n        let studpermission = res.data.roles?res.data.roles[0][\"students\"]:null;\r\n        setState((prevState) => ({\r\n          ...prevState, \r\n          permissions:permission,studPermissions:studpermission\r\n        }))\r\n      }).catch((err) => {      })\r\n    const thead = document.getElementsByTagName(\"thead\");\r\n    thead[0].style.backgroundColor = localStorage.getItem('tableColor');\r\n    thead[1]?thead[1].style.backgroundColor = localStorage.getItem('tableColor'):null;\r\n    thead[2]?thead[2].style.backgroundColor = localStorage.getItem('tableColor'):null;\r\n   tableList(\"1\");\r\n  }, []);\r\n  const studentsActionsHandle=(cell,row)=>{ \r\n     return (\r\n      <>\r\n        <span>      \r\n        {permissions.canUpdate?    <i className=\"fa fa-pencil\" title='Edit' id=\"pencilspace\" aria-hidden=\"true\" onClick={()=> history(`/studentTabs/CreateInquiry/${row.id}`)} style={{ cursor: 'pointer', fontSize: \"15px\", color: \"green\" }}></i>     :null}\r\n       {permissions.canDelete?   <i className=\"fa fa-trash-o\" title='Delete' aria-hidden=\"true\" id=\"trashspace\" onClick={()=>{deleteInquiryHandle(row.id)}} style={{ cursor: 'pointer', fontSize: \"15px\",padding:\"0px 10px 0px 0px\", color: \"red\" }}></i> :null}\r\n       {studPermissions.canCreate? row.inquiryStatus?row.inquiryStatus.name===\"Register\"?  <i className=\"fa fa-user\" title='Redirect To Add Student' id=\"pencilspace\" aria-hidden=\"true\" onClick={()=> history(`/studentTabs/students/create`)} style={{ cursor: 'pointer', fontSize: \"15px\", color: \"green\" }}></i> :null :null :null}\r\n        </span>\r\n      </>\r\n    )\r\n  }\r\n  \r\n const onPaginationChange=(page)=>{\r\n    tableList(page);\r\n   }\r\n \r\n const displayFullName = (cell, row) => {\r\n    return (<span>{row?`${row.firstName} ${row.lastName}`:null}</span>)\r\n  }\r\n  const displayDate = (date)=>{\r\n    return(<>{moment(date).format(\"MM/DD/YYYY\")}</>)\r\n  }\r\n  const displayinquiryServices = (cell, row) => {\r\n    return (<span>{row.inquiryServices? row.inquiryServices.name :null}</span>)\r\n  }\r\n  const displayinquiryStatus = (cell, row) => {\r\n    return (<span>{row.inquiryStatus? row.inquiryStatus.name :null}</span>)\r\n  }\r\n  const displayinquiryType = (cell, row) => {\r\n    return (<span>{row.inquiryType? row.inquiryType.name :null}</span>)\r\n  }\r\n  return (\r\n    <>\r\n     <ToastContainer /> \r\n    {loader?<Spinner\r\n      className='loaderr'\r\n       color=\"primary\"\r\n      > \r\n      Loading...\r\n    </Spinner>:null}\r\n       <CardBody className='cardbg' style={{backgroundColor: localStorage.getItem('cardColor')}}>\r\n      <Row>\r\n        <Col ><h4><strong>Inquiry List</strong></h4></Col>\r\n        <Col>\r\n          {permissions.canCreate?<Button color=\"primary\" size=\"sm\" style={{float:\"right\",backgroundColor: localStorage.getItem('btColor')}} onClick={()=> history(\"/studentTabs/CreateInquiry/new\")}>Add Inquiry</Button>:null}\r\n        </Col>      \r\n     </Row>\r\n     <div className='height15'></div>\r\n     <Row>\r\n        <Col>\r\n        <Card >\r\n           <BootstrapTable data={inquiryList} hover multiColumnSearch={true} version='4' search>\r\n                <TableHeaderColumn width=\"140\" dataField='firstName' dataFormat={displayFullName} dataSort>Name</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"160\" dataField='email' dataSort>Email</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"110\" dataField='phone'  dataSort>Phone</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"110\" dataField='inquiryServices' dataFormat={displayinquiryServices} dataSort> Services</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"110\" dataField='inquiryStatus' dataFormat={displayinquiryStatus} dataSort> Status</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"110\" dataField='inquiryType' dataFormat={displayinquiryType} dataSort> Type</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"120\" dataField='creationDate' dataFormat={displayDate}  dataSort>Created Date</TableHeaderColumn>\r\n                <TableHeaderColumn width=\"100\"  dataField=\"id\" dataAlign='center' dataFormat={studentsActionsHandle} isKey>Action</TableHeaderColumn>\r\n            </BootstrapTable>\r\n            <CardFooter> \r\n            {inquiryList.length>=1?<TablePagination totalPages={totalPages} currentPage={currentPage} callbackfunc={onPaginationChange} defaultPageSize={\"10\"}></TablePagination>:null}\r\n            </CardFooter>\r\n            </Card>\r\n         </Col>\r\n      </Row>\r\n     </CardBody> \r\n    </>\r\n  )\r\n}\r\n"],"names":["TablePagination","props","_useState","useState","totalDocs","totalPages","currentPage","_useState2","_slicedToArray","data","_jsx","_Fragment","children","Pagination","showTotal","total","range","concat","showQuickJumper","pageSizeOptions","showSizeChanger","defaultPageSize","defaultCurrent","onShowSizeChange","console","log","onChange","callbackfunc","locale","localeInfo","studentInitialData","inquiryList","loader","permissions","canCreate","canView","canUpdate","canDelete","studPermissions","InquiryList","initialData","setState","history","useNavigate","tableList","page","prevState","_objectSpread","Axios","then","res","content","totalElements","pageNumber","catch","err","Swal","response","message","useEffect","userid","localStorage","getItem","axios","process","permission","roles","studpermission","thead","document","getElementsByTagName","style","backgroundColor","_jsxs","ToastContainer","Spinner","className","color","CardBody","Row","Col","Button","size","float","onClick","Card","BootstrapTable","hover","multiColumnSearch","version","search","TableHeaderColumn","width","dataField","dataFormat","cell","row","firstName","lastName","dataSort","inquiryServices","name","inquiryStatus","inquiryType","date","moment","format","dataAlign","title","id","cursor","fontSize","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","position","showConfirmButton","timer","padding","isKey","CardFooter","length"],"sourceRoot":""}