{"version":3,"file":"static/js/9417.9efee8ea.chunk.js","mappings":"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","sources":["hoc/pagination.js","views/students/studentList.js"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react'\nimport Pagination from \"rc-pagination\";\nimport \"rc-pagination/assets/index.css\";\nimport localeInfo from \"rc-pagination/lib/locale/en_US\";\n \nexport default function TablePagination(props) {\n  const [data,setData] = useState({ totalDocs:props.totalPages,currentPage:props.currentPage})\n  const  onPaginationChange=(data)=>{\n    props.callbackfunc(data);\n  }\n  const  onShowSizeChange=(data)=>{\n    console.log(\"onShowSizeChange\",data)\n  }\n  return (\n    <>\n    <Pagination\n     showTotal={(total, range) =>\n      `${range[0]} - ${range[1]} of ${total} items`\n      }\n       showQuickJumper\n    pageSizeOptions={['10', '20', '50', '100']}\n    showSizeChanger\n    defaultPageSize={props.defaultPageSize}\n    defaultCurrent={data.currentPage}\n    onShowSizeChange={ onShowSizeChange}\n    onChange={onPaginationChange}\n    total={data.totalDocs}\n    locale={localeInfo}\n  />\n</>\n  )\n}\n","\nimport React,{useState,useEffect}  from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport { Col, Card,CardBody,CardFooter, Row,Button,Spinner } from \"reactstrap\";\nimport { BootstrapTable, TableHeaderColumn } from \"react-bootstrap-table\";\nimport Axios from \"../../hoc/axiosConfig\"\nimport moment from 'moment/moment';\nimport TablePagination from '../../hoc/pagination';\nimport Swal from 'sweetalert2';\nimport { ToastContainer, toast } from 'react-toastify';\nimport axios from 'axios';\nconst studentInitialData= {studentList:[],totalPages:\"\",currentPage:\"\",loader:false,permissions:{canCreate: true, canView: true, canUpdate: true, canDelete: true}}\nexport default function StudentList(props) {\n   const [initialData,setState] = useState(studentInitialData);\n  const {studentList,totalPages,currentPage,loader,permissions} = initialData\nconst history = useNavigate();\nconst tableList = (page)=>{\n  setState((prevState)=>({...prevState,loader:true}))\n  Axios.get(`students?page=${page-1}&size=10&sort=id,desc`).then((res)=>{\n     let stList = res.data.content?res.data.content:[];\n     setState((prevState)=>({\n      ...prevState,\n      studentList:stList,\n      totalPages:res.data.totalElements,\n      currentPage:res.data.pageNumber+1,\n      loader:false\n    })) \n     }).catch(err=>{\n      Swal.fire(err.response.data.message,'Please try again later');\n      setState((prevState)=>({...prevState,loader:false,studentList:[],}))\n    })\n}\n  useEffect(() => {\n    let userid=localStorage.getItem(\"userid\");\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + localStorage.getItem(\"token\");\n    axios.get(`${process.env.REACT_APP_BASE_URL_BASE}auth/users/${userid}`)\n      .then((res) => {\n         let permission = res.data.roles?res.data.roles[0][\"students\"]:null;\n        setState((prevState) => ({\n          ...prevState, \n          permissions:permission\n        }))\n      }).catch((err) => {   })\n    const thead = document.getElementsByTagName(\"thead\");\n    thead[0].style.backgroundColor = localStorage.getItem('tableColor');\n    thead[1]?thead[1].style.backgroundColor = localStorage.getItem('tableColor'):null;\n    thead[2]?thead[2].style.backgroundColor = localStorage.getItem('tableColor'):null;\n   tableList(\"1\");\n\n  }, []);\n  const studentsActionsHandle=(cell,row)=>{\n    return (\n      <>\n        <span>      \n        {permissions.canUpdate?  <i className=\"fa fa-pencil\" id=\"pencilspace\" aria-hidden=\"true\" onClick={()=> history(`/studentTabs/students/edit/${row.id}`)} style={{ cursor: 'pointer', fontSize: \"15px\", color: \"green\" }}></i>:null}\n        </span>\n      </>\n    )\n  }\n  \n const onPaginationChange=(page)=>{\n    tableList(page);\n   }\n \n const displayFullName = (cell, row) => {\n    return (<span>{row?`${row.firstName} ${row.lastName}`:null}</span>)\n  }\n  const displayDate = (date)=>{\n    return(<>{moment(date).format(\"MM/DD/YYYY\")}</>)\n  }\n  return (\n    <>\n     <ToastContainer /> \n    {loader?<Spinner\n      className='loaderr'\n       color=\"primary\"\n      > \n      Loading...\n    </Spinner>:null}\n      <CardBody className='cardbg' style={{backgroundColor: localStorage.getItem('cardColor')}}>\n      <Row>\n        <Col ><h4><strong>Students List</strong></h4></Col>\n        <Col>\n        {permissions.canCreate?<Button color=\"primary\" size=\"sm\" style={{float:\"right\",backgroundColor: localStorage.getItem('btColor')}} onClick={()=> history(\"/studentTabs/students/create\")}>Add Student</Button>:null}\n        </Col>      \n     </Row>\n     <div className='height15'></div>\n     <Row>\n        <Col>\n        <Card >\n           <BootstrapTable data={studentList} hover multiColumnSearch={true} version='4' search>\n                <TableHeaderColumn width=\"140\" dataField='firstName' dataFormat={displayFullName} dataSort>Student Name</TableHeaderColumn>\n                <TableHeaderColumn width=\"180\" dataField='email' dataSort>Email</TableHeaderColumn>\n                <TableHeaderColumn width=\"120\" dataField='phone'  dataSort>Phone</TableHeaderColumn>\n                <TableHeaderColumn width=\"100\" dataField='creationDate' dataFormat={displayDate}  dataSort>Registered Date</TableHeaderColumn>\n                <TableHeaderColumn width=\"60\"  dataField=\"id\" dataAlign='center' dataFormat={studentsActionsHandle} isKey>Action</TableHeaderColumn>\n            </BootstrapTable>\n            <CardFooter> \n              {studentList?studentList.length>=1?<TablePagination totalPages={totalPages} currentPage={currentPage} callbackfunc={onPaginationChange} defaultPageSize={\"10\"}></TablePagination>:null:null}\n            </CardFooter>\n            </Card>\n         </Col>\n      </Row>\n     </CardBody>\n    </>\n  )\n}\n"],"names":["TablePagination","props","_useState","useState","totalDocs","totalPages","currentPage","_useState2","_slicedToArray","data","_jsx","_Fragment","children","Pagination","showTotal","total","range","concat","showQuickJumper","pageSizeOptions","showSizeChanger","defaultPageSize","defaultCurrent","onShowSizeChange","console","log","onChange","callbackfunc","locale","localeInfo","studentInitialData","studentList","loader","permissions","canCreate","canView","canUpdate","canDelete","StudentList","initialData","setState","history","useNavigate","tableList","page","prevState","_objectSpread","Axios","then","res","stList","content","totalElements","pageNumber","catch","err","Swal","response","message","useEffect","userid","localStorage","getItem","axios","process","permission","roles","thead","document","getElementsByTagName","style","backgroundColor","_jsxs","ToastContainer","Spinner","className","color","CardBody","Row","Col","Button","size","float","onClick","Card","BootstrapTable","hover","multiColumnSearch","version","search","TableHeaderColumn","width","dataField","dataFormat","cell","row","firstName","lastName","dataSort","date","moment","format","dataAlign","id","cursor","fontSize","isKey","CardFooter","length"],"sourceRoot":""}