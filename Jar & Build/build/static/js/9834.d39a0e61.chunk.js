"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9834],{23739:function(e,s,a){a.r(s),a.d(s,{default:function(){return y}});var r=a(29439),n=a(72791),i=a(57689),t=a(22976),d=a(84951),l=a(18491),c=a(24021),o=a(9085),m=(a(5462),a(63263)),u=a(21830),p=a.n(u),h=a(72426),x=a.n(h),j=a.p+"static/media/login-background-video.2640cf71ade812d8181c.mp4",g=a(80184),y=function(){var e=(0,n.useState)({firstName:"",lastName:"",gender:"",dateOfBirth:"",phoneNumber:"",email:"",employmentType:"",userType:"",login:"",password:"",address:"",address2:"",city:"",state:"",zipcode:"",country:""}),s=(0,r.Z)(e,2),a=s[0],u=(s[1],(0,n.useState)("")),h=(0,r.Z)(u,2),y=h[0],v=h[1],N=(0,n.useState)(""),f=(0,r.Z)(N,2),b=f[0],q=f[1],B=(0,n.useState)(""),_=(0,r.Z)(B,2),w=_[0],T=_[1],I=((0,i.UO)(),(0,i.s0)()),C={firstName:a.firstName,lastName:a.lastName,dateOfBirth:a.dateOfBirth,phoneNumber:a.phoneNumber,email:a.email,employmentType:a.employmentType,userType:a.userType,login:a.login,password:a.password,address:a.address,address2:a.address2,city:a.city,state:a.state,zipcode:a.zipcode};(0,n.useEffect)((function(){m.Z.get("".concat("http://localhost:8080/api/v1/api","/states")).then((function(e){var s=[];e.data.map((function(e,a){s.push({value:e.id,label:e.name})})),T(s)})).catch((function(e){})),m.Z.get("".concat("http://localhost:8080/api/v1/api","/employment-type")).then((function(e){var s=[];e.data.content.map((function(e,a){s.push({value:e.id,label:e.name})})),v(s)})).catch((function(e){})),m.Z.get("".concat("http://localhost:8080/api/v1/api","/user-type")).then((function(e){var s=[];e.data.content.map((function(e,a){s.push({value:e.id,label:e.name})})),q(s)})).catch((function(e){}))}),[]);var X=localStorage.getItem("accode");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Ix,{}),(0,g.jsxs)("div",{className:"loginBackground",children:[(0,g.jsx)("video",{autoplay:"",muted:"",playsinline:"",loop:"",children:(0,g.jsx)("source",{src:j,type:"video/mp4"})}),(0,g.jsx)("div",{className:"loginOuter",children:(0,g.jsxs)("div",{className:"loginInner",children:[(0,g.jsx)("div",{className:"loginHeading",children:(0,g.jsx)("h2",{children:"Register to ACE"})}),(0,g.jsx)(d.X2,{children:(0,g.jsx)(d.JX,{md:12,children:(0,g.jsx)(d.Zb,{className:"cardbgw",children:(0,g.jsx)(l.J9,{enableReinitialize:"true",initialValues:C,validationSchema:function(){return c.object().shape({firstName:c.string().min(2,"Too Short!").max(70,"Too Long!").required("First name is required"),lastName:c.string().min(2,"Too Short!").max(70,"Too Long!").required("Last name is required"),dateOfBirth:c.string().required("Birth date is required").test("DOB","Age must be at least 18 years",(function(e){return x()().diff(x()(e),"years")>18})),email:c.string().required("Email is required").email("Invalid mail address"),phoneNumber:c.string().required("Phone number is required"),employmentType:c.object().required("Employment type is required"),userType:c.object().required("User type is required"),login:c.string().required("Login is required"),password:c.string().required("Password is required").min(5,"Password must be at least 5 characters").max(40,"Password must not exceed 40 characters"),address:c.string().min(2,"Too Short!").required("Address is required"),address2:c.string().min(2,"Too Short!").required("Alternate Address is required"),city:c.string().required("City is required"),state:c.object().required("State is required"),zipcode:c.string().min(5,"Must be exactly 5 digits").max(5,"Must be exactly 5 digits").required("Zipcode is required")})},onSubmit:function(e){var s={firstName:e.firstName,lastName:e.lastName,dob:e.dateOfBirth,phone:e.phoneNumber,email:e.email,login:e.login,password:e.password,address:{addressLine1:e.address,addressLine2:e.address2,pinCode:e.zipcode,city:e.city,state:{id:e.state.value,name:e.state.label}}};m.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),m.Z.post("".concat("http://localhost:8080/api/v1/","auth/register/user-type/").concat(e.userType.value,"/employment-type/").concat(e.employmentType.value),s).then((function(e){201===e.status&&(o.Am.success("User ".concat(e.data.roles[0].name," created successfully"),{theme:"colored"}),setTimeout((function(){var e=localStorage.getItem("accode"),s=e?"/login/".concat(e):"/login";I(s)}),2e3))})).catch((function(e){p().fire(e.response.data.message,"Please try again")}))},children:function(e){var s=e.values,a=e.handleChange,r=e.handleSubmit,n=e.errors,i=e.touched,c=e.handleBlur,o=(e.isValid,e.dirty,e.setFieldValue);return(0,g.jsxs)(l.l0,{className:"add-edit-user-form",onSubmit:r,children:[(0,g.jsxs)(d.eW,{className:"cardbgw",children:[(0,g.jsxs)(d.X2,{children:[(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{for:"firstName",children:["First Name",(0,g.jsx)("span",{className:"required",children:"*"})," "]}),(0,g.jsx)(d.II,{type:"text",name:"firstName",placeholder:"First name",value:s.firstName,onChange:a,onBlur:c,invalid:i.firstName&&!!n.firstName}),(0,g.jsx)(l.Bc,{name:"firstName",component:"div",className:"errmsg"})]})}),(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{for:"lastName",children:["Last Name",(0,g.jsx)("span",{className:"required",children:"*"})," "]}),(0,g.jsx)(d.II,{type:"text",name:"lastName",placeholder:"Last name",value:s.lastName,onChange:a,onBlur:c,invalid:i.lastName&&!!n.lastName}),(0,g.jsx)(l.Bc,{name:"lastName",component:"div",className:"errmsg"})]})})]}),(0,g.jsxs)(d.X2,{children:[(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:["Date of birth",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:a,onBlur:c,invalid:i.dateOfBirth&&!!n.dateOfBirth}),(0,g.jsx)(l.Bc,{name:"dateOfBirth",component:"div",className:"errmsg"})]})}),(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:["Phone Number",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"number",name:"phoneNumber",value:s.phoneNumber,onChange:a,onBlur:c,invalid:i.phoneNumber&&!!n.phoneNumber}),(0,g.jsx)(l.Bc,{name:"phoneNumber",component:"div",className:"errmsg"})]})})]}),(0,g.jsxs)(d.X2,{children:[(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:["Email",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"email",name:"email",value:s.email,onChange:a,onBlur:c,invalid:i.email&&!!n.email}),(0,g.jsx)(l.Bc,{name:"email",component:"div",className:"errmsg"})]})}),(0,g.jsxs)(d.JX,{md:3,children:[(0,g.jsxs)(d.__,{for:"userType",children:["User Type",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(t.ZP,{name:"userType",value:s.userType,options:b,onChange:function(e){return o("userType",e)},invalid:i.userType&&!!n.userType}),(0,g.jsx)(l.Bc,{name:"userType",component:"div",className:"errmsg"})]}),(0,g.jsxs)(d.JX,{md:3,children:[(0,g.jsxs)(d.__,{for:"employmentType",children:["Employment Type",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(t.ZP,{name:"employmentType",value:s.employmentType,options:y,onChange:function(e){return o("employmentType",e)},invalid:i.style&&!!n.style}),(0,g.jsx)(l.Bc,{name:"employmentType",component:"div",className:"errmsg"})]})]}),(0,g.jsxs)(d.X2,{children:[(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:["Login",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"text",name:"login",value:s.login,onChange:a,onBlur:c,invalid:i.login&&!!n.login}),(0,g.jsx)(l.Bc,{name:"login",component:"div",className:"errmsg"})]})}),(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:["Password",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"password",name:"password",value:s.password,onChange:a,onBlur:c,invalid:i.password&&!!n.password}),(0,g.jsx)(l.Bc,{name:"password",component:"div",className:"errmsg"})]})})]}),(0,g.jsxs)(d.X2,{children:[(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{for:"address",children:["Address",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{name:"address",value:s.address,type:"textarea",placeholder:"content here...",onChange:a,onBlur:c,rows:"2",invalid:i.address&&!!n.address}),(0,g.jsx)(l.Bc,{name:"address",component:"div",className:"errmsg"})]})}),(0,g.jsx)(d.JX,{md:6,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{for:"address2",children:["Alternate Address",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{name:"address2",value:s.address2,type:"textarea",placeholder:"Alternate address here...",onChange:a,onBlur:c,rows:"2",invalid:i.address2&&!!n.address2}),(0,g.jsx)(l.Bc,{name:"address2",component:"div",className:"errmsg"})]})})]}),(0,g.jsxs)(d.X2,{children:[(0,g.jsx)(d.JX,{md:4,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:[" City",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"text",name:"city",value:s.city,onChange:a,onBlur:c,invalid:i.city&&!!n.city}),(0,g.jsx)(l.Bc,{name:"city",component:"div",className:"errmsg"})]})}),(0,g.jsxs)(d.JX,{md:4,children:[(0,g.jsxs)(d.__,{for:"state",children:["State",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(t.ZP,{name:"state",value:s.state,options:w,onChange:function(e){return o("state",e)},invalid:i.mode&&!!n.mode}),(0,g.jsx)(l.Bc,{name:"state",component:"div",className:"errmsg"})]}),(0,g.jsx)(d.JX,{md:4,children:(0,g.jsxs)(d.cw,{children:[(0,g.jsxs)(d.__,{children:[" Zipcode",(0,g.jsx)("span",{className:"required",children:"*"})]}),(0,g.jsx)(d.II,{type:"number",name:"zipcode",value:s.zipcode,onChange:a,onBlur:c,invalid:i.zipcode&&!!n.zipcode}),(0,g.jsx)(l.Bc,{name:"zipcode",component:"div",className:"errmsg"})]})})]})]}),(0,g.jsxs)(d.iR,{id:"cardfootercolor",children:[(0,g.jsx)(d.zx,{outline:!0,size:"md",type:"button",id:"cancelbutton",onClick:function(){return I("/login/".concat(X))},children:"Sign In"})," ",(0,g.jsx)(d.zx,{outline:!0,color:"info",size:"md",id:"savebutton",type:"submit",children:"Sign Up"})," "]})]})}})})})})]})})]})]})}}}]);
//# sourceMappingURL=9834.d39a0e61.chunk.js.map