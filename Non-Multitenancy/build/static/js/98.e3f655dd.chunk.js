"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[98],{80242:function(e,s,t){t.r(s),t.d(s,{default:function(){return T}});var a=t(4942),n=t(1413),r=t(29439),i=t(72791),d=t(57689),o=t(22976),l=t(84951),m=t(18491),c=t(24021),u=t(14345),h=t.n(u),p=t(77710),g=t(9085),x=(t(5462),t(63263)),f=t(21830),y=t.n(f),j=t(72426),v=t.n(j),N=t(59513),b=t.n(N),q=t.p+"static/media/team.9854dafd50caf218d8a2.jpg",w=t(80184);h()(c);var T=function(){var e=(0,i.useState)({firstName:"",lastName:"",gender:"",dateOfBirth:"",phoneNumber:"",email:"",employmentType:"",userType:"",login:"",password:"",pin:"",address:"",address2:"",city:"",state:"",zipcode:"",country:""}),s=(0,r.Z)(e,2),t=s[0],u=s[1],h=(0,i.useState)(""),f=(0,r.Z)(h,2),j=f[0],N=f[1],T=(0,i.useState)(""),B=(0,r.Z)(T,2),Z=B[0],_=B[1],S=(0,i.useState)(""),C=(0,r.Z)(S,2),I=C[0],z=C[1],P=(0,i.useState)(""),M=(0,r.Z)(P,2),X=(M[0],M[1]),L=(0,i.useState)(""),O=(0,r.Z)(L,2),$=(O[0],O[1]),A=(0,d.UO)(),J=(0,d.s0)(),U={firstName:t.firstName,lastName:t.lastName,dateOfBirth:t.dateOfBirth,phoneNumber:t.phoneNumber,email:t.email,employmentType:t.employmentType,userType:t.userType,login:t.login,password:t.password,pin:t.pin,address:t.address,address2:t.address2,city:t.city,state:t.state,zipcode:t.zipcode},E=function(e){var s=e.target,t=s.name,r=s.value;if("phoneNumber"===t){var i=r.replace(/[^0-9]/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");u((function(e){return(0,n.Z)((0,n.Z)({},e),{},(0,a.Z)({},t,i))}))}else u((function(e){return(0,n.Z)((0,n.Z)({},e),{},(0,a.Z)({},t,r))}))},D=function(e,s){u((function(t){return(0,n.Z)((0,n.Z)({},t),{},(0,a.Z)({},e,s))}))};(0,i.useEffect)((function(){x.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),x.Z.get("".concat("http://localhost:8080/api/v1/","auth/employment-type")).then((function(e){var s=[];e.data.map((function(e,t){s.push({value:e.id,label:e.name})})),N(s)})).catch((function(e){401===e.response.status?y().fire("401 session expired..!","Please re-login"):y().fire("Oops, something went wrong. Please try again later")})),"new"!==A.id&&p.Z.get("".concat("http://localhost:8080/api/v1/","auth/user/").concat(A.id)).then((function(e){var s=e.data;u((0,n.Z)((0,n.Z)({},t),{},{firstName:s.firstName,lastName:s.lastName,dateOfBirth:v()(s.dob).format("MM/DD/YYYY"),phoneNumber:s.phone,email:s.email,employmentType:{value:s.employmentType.id,label:s.employmentType.name},userType:{value:s.roles[0].id,label:s.roles[0].roleName},login:s.login,password:"",address:s.address.addressLine1,address2:s.address.addressLine2,city:s.address.city,state:{value:s.address.state.id,label:s.address.state.name},zipcode:s.address.pinCode})),X(s.id),$(s.employmentType.id)})).catch((function(e){y().fire(e.response?e.response.data.message:null,"Please try again ")})),p.Z.get("/states").then((function(e){var s=[];e.data.map((function(e,t){s.push({value:e.id,label:e.name})})),z(s)})).catch((function(e){y().fire("Please try again ")})),x.Z.get("".concat("http://localhost:8080/api/v1/","auth/roles")).then((function(e){var s=[];e.data.map((function(e,t){s.push({value:e.id,label:e.roleName})})),_(s)})).catch((function(e){401===e.response.status?y().fire("401 session expired..!","Please re-login"):y().fire("Oops, something went wrong. Please try again later")}))}),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(g.Ix,{}),(0,w.jsxs)(l.Zb,{children:[(0,w.jsx)("h4",{children:(0,w.jsxs)("strong",{children:["new"===A.id?"Create":"Update"," User"]})}),(0,w.jsxs)(l.X2,{children:[(0,w.jsx)(l.JX,{md:8,children:(0,w.jsx)(l.Zb,{className:"cardbgw",children:(0,w.jsx)(m.J9,{enableReinitialize:"true",initialValues:U,validationSchema:"new"===A.id?function(){return c.object().shape({firstName:c.string().matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed").min(2,"Too Short!").max(70,"Too Long!").required("First name is required"),lastName:c.string().matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed").min(2,"Too Short!").max(70,"Too Long!").required("Last name is required"),dateOfBirth:c.string().required("Birth date is required").test("DOB","Age must be at least 18 years",(function(e){return v()().diff(v()(e),"years")>18})),email:c.string().required("Email is required").email("Invalid mail address"),phoneNumber:c.string().min(10,"Minimum 10 digits!").max(14,"Maximum 14 digits!").required("Phone number is required"),employmentType:c.object().required("Employment type is required"),userType:c.object().required("User type is required"),login:c.string().required("Login is required"),password:c.string().required("Password is required").min(8,"Password must be at least 8 characters").minLowercase(1,"Password must contain at least 1 lower case letter").minUppercase(1,"Password must contain at least 1 upper case letter").minNumbers(1,"Password must contain at least 1 number").minSymbols(1,"Password must contain at least 1 special character"),address:c.string().min(2,"Too Short!").required("Address is required"),city:c.string().required("City is required"),state:c.object().required("State is required"),zipcode:c.string().min(5,"Must be exactly 5 digits").max(5,"Must be exactly 5 digits").required("Zipcode is required")})}:function(){return c.object().shape({firstName:c.string().min(2,"Too Short!").max(70,"Too Long!").required("First name is required"),lastName:c.string().min(2,"Too Short!").max(70,"Too Long!").required("Last name is required"),dateOfBirth:c.string().required("Birth date is required").test("DOB","Age must be at least 18 years",(function(e){return v()().diff(v()(e),"years")>18})),email:c.string().required("Email is required").email("Invalid mail address"),phoneNumber:c.string().min(10,"Minimum 10 digits!").max(14,"Maximum 14 digits!").required("Phone number is required"),employmentType:c.object().required("Employment type is required"),userType:c.object().required("User type is required"),login:c.string().required("Login is required"),address:c.string().min(2,"Too Short!").required("Address is required"),city:c.string().required("City is required"),state:c.object().required("State is required"),zipcode:c.string().min(5,"Must be exactly 5 digits").max(5,"Must be exactly 5 digits").required("Zipcode is required")})},onSubmit:function(e){var s={firstName:e.firstName,lastName:e.lastName,dob:v()(e.dateOfBirth).format("YYYY-MM-DD"),phone:e.phoneNumber,email:e.email,login:e.login,password:e.password,address:{addressLine1:e.address,addressLine2:e.address2,pinCode:e.zipcode,city:e.city,state:{id:e.state.value,name:e.state.label}}};"new"===A.id?x.Z.post("".concat("http://localhost:8080/api/v1/","auth/register/roles/").concat(e.userType.value,"/employment-type/").concat(e.employmentType.value),s).then((function(e){201===e.status&&(g.Am.success("User created successfully",{theme:"colored"}),setTimeout((function(){J("/userTabs/2")}),2e3))})).catch((function(e){401===e.response.status?y().fire("401 session expired..!","Please re-login"):y().fire(e.response.data.message,"Please try again later")})):(x.Z.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),x.Z.put("".concat("http://localhost:8080/api/v1/","auth/roles/").concat(e.userType.value,"/employment-type/").concat(e.employmentType.value,"/user/").concat(A.id),s).then((function(e){200===e.status&&(g.Am.info("User updated successfully",{theme:"colored"}),setTimeout((function(){J("/userTabs/2")}),2e3))})).catch((function(e){401===e.response.status?y().fire("401 session expired..!","Please re-login"):y().fire(e.response.data.message,"Please try again later")})))},children:function(e){var s=e.values,t=(e.handleChange,e.handleSubmit),a=e.errors,r=e.touched,i=e.handleBlur,d=(e.isValid,e.dirty,e.setFieldValue);return(0,w.jsxs)(m.l0,{className:"add-edit-user-form",onSubmit:t,autocomplete:"off",children:[(0,w.jsxs)(l.eW,{className:"cardbgw",children:[(0,w.jsxs)(l.X2,{children:[(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{for:"firstName",children:["First Name",(0,w.jsx)("span",{className:"required",children:"*"})," "]}),(0,w.jsx)(l.II,{type:"text",name:"firstName",placeholder:"First name",value:s.firstName,onChange:E,onBlur:i,invalid:r.firstName&&!!a.firstName}),(0,w.jsx)(m.Bc,{name:"firstName",component:"div",className:"errmsg"})]})}),(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{for:"lastName",children:["Last Name",(0,w.jsx)("span",{className:"required",children:"*"})," "]}),(0,w.jsx)(l.II,{type:"text",name:"lastName",placeholder:"Last name",value:s.lastName,onChange:E,onBlur:i,invalid:r.lastName&&!!a.lastName}),(0,w.jsx)(m.Bc,{name:"lastName",component:"div",className:"errmsg"})]})})]}),(0,w.jsxs)(l.X2,{children:[(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:["Date of birth",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(b(),{name:"dateOfBirth",selected:s.dateOfBirth?new Date(s.dateOfBirth):null,onChange:function(e){return function(e,s){s.dateOfBirth=e,u((0,n.Z)({},s))}(e,s)},placeholderText:"mm/dd/yyyy"}),(0,w.jsx)(m.Bc,{name:"dateOfBirth",component:"div",className:"errmsg"})]})}),(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:["Phone Number",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{type:"text",name:"phoneNumber",value:s.phoneNumber,onChange:E,onBlur:i,invalid:r.phoneNumber&&!!a.phoneNumber}),(0,w.jsx)(m.Bc,{name:"phoneNumber",component:"div",className:"errmsg"})]})})]}),(0,w.jsxs)(l.X2,{children:[(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:["Email",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{type:"email",name:"email",value:s.email,defaultValue:"",onChange:E,onBlur:i,invalid:r.email&&!!a.email}),(0,w.jsx)(m.Bc,{name:"email",component:"div",className:"errmsg"})]})}),(0,w.jsxs)(l.JX,{md:3,children:[(0,w.jsxs)(l.__,{for:"userType",children:["User Type",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(o.ZP,{name:"userType",value:s.userType,options:Z,onChange:function(e){d("userType",e),D("userType",e)},invalid:r.userType&&!!a.userType}),(0,w.jsx)(m.Bc,{name:"userType",component:"div",className:"errmsg"})]}),(0,w.jsxs)(l.JX,{md:3,children:[(0,w.jsxs)(l.__,{for:"employmentType",children:["Employment Type",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(o.ZP,{name:"employmentType",value:s.employmentType,options:j,onChange:function(e){d("employmentType",e),D("employmentType",e)},invalid:r.style&&!!a.style}),(0,w.jsx)(m.Bc,{name:"employmentType",component:"div",className:"errmsg"})]})]}),(0,w.jsxs)(l.X2,{children:[(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:["Login",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{type:"text",name:"login",value:s.login,onChange:E,onBlur:i,invalid:r.login&&!!a.login}),(0,w.jsx)(m.Bc,{name:"login",component:"div",className:"errmsg"})]})}),(0,w.jsx)(l.JX,{md:6,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:["Password ",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{type:"password",name:"password",value:s.password,onChange:E,onBlur:i,disabled:"new"!==A.id}),(0,w.jsx)(m.Bc,{name:"password",component:"div",className:"errmsg"})]})})]}),(0,w.jsx)(l.X2,{children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{for:"address",children:["Address",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{name:"address",value:s.address,type:"text",placeholder:"Address here...",onChange:E,onBlur:i,invalid:r.address&&!!a.address}),(0,w.jsx)(m.Bc,{name:"address",component:"div",className:"errmsg"})]})}),(0,w.jsx)(l.X2,{children:(0,w.jsx)(l.cw,{children:(0,w.jsx)(l.II,{name:"address2",value:s.address2,type:"text",onChange:E,onBlur:i})})}),(0,w.jsxs)(l.X2,{children:[(0,w.jsx)(l.JX,{md:4,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:[" City",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{type:"text",name:"city",value:s.city,onChange:E,onBlur:i,invalid:r.city&&!!a.city}),(0,w.jsx)(m.Bc,{name:"city",component:"div",className:"errmsg"})]})}),(0,w.jsxs)(l.JX,{md:4,children:[(0,w.jsxs)(l.__,{for:"state",children:["State",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(o.ZP,{name:"state",value:s.state,options:I,onChange:function(e){d("state",e),D("state",e)},invalid:r.mode&&!!a.mode}),(0,w.jsx)(m.Bc,{name:"state",component:"div",className:"errmsg"})]}),(0,w.jsx)(l.JX,{md:4,children:(0,w.jsxs)(l.cw,{children:[(0,w.jsxs)(l.__,{children:[" Zipcode",(0,w.jsx)("span",{className:"required",children:"*"})]}),(0,w.jsx)(l.II,{type:"number",name:"zipcode",value:s.zipcode,onChange:E,onBlur:i,invalid:r.zipcode&&!!a.zipcode}),(0,w.jsx)(m.Bc,{name:"zipcode",component:"div",className:"errmsg"})]})})]})]}),(0,w.jsxs)(l.iR,{id:"cardfootercolor",children:[(0,w.jsx)(l.zx,{size:"md",color:"secondary",type:"button",id:"cancelbutton",onClick:function(){return J("/userTabs/2")},children:"Cancel"})," ",(0,w.jsx)(l.zx,{color:"primary",size:"md",id:"savebutton",type:"submit",children:"new"===A.id?"Save":"Update"})," "]})]})}})})}),(0,w.jsx)(l.JX,{md:4,children:(0,w.jsx)(l.Mo,{alt:"Batch image",src:q,bottom:!0})})]})]})]})}},14345:function(e){var s=function(e,s){return 1===s?e:"".concat(e,"s")},t=function(e){return null===e||void 0===e};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=a||"${path} must contain at least ${length} lowercase "+s("letter",e);return this.test({name:"minLowercase",exclusive:!0,message:n,params:{length:e},test:function(s){return t(s)||(s.match(/[a-z]/g)||[]).length>=e}})}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=a||"${path} must contain at least ${length} uppercase "+s("letter",e);return this.test({name:"minUppercase",exclusive:!0,message:n,params:{length:e},test:function(s){return t(s)||(s.match(/[A-Z]/g)||[]).length>=e}})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=a||"${path} must contain at least ${length} "+s("number",e);return this.test({name:"minNumber",exclusive:!0,message:n,params:{length:e},test:function(s){return t(s)||(s.match(/[0-9]/g)||[]).length>=e}})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,n=a||"${path} must contain at least ${length} "+s("symbol",e);return this.test({name:"minSymbol",exclusive:!0,message:n,params:{length:e},test:function(s){return t(s)||(s.match(/[^a-zA-Z0-9\s]/g)||[]).length>=e}})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,a=arguments.length>1?arguments[1]:void 0,n=a||"${path} must not contain sequences of more than ${length} repeated "+s("character",e);return this.test({name:"minRepeating",exclusive:!0,message:n,params:{length:e},test:function(s){return t(s)||!new RegExp("(.)\\1{".concat(e,",}")).test(s)}})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,a=arguments.length>1?arguments[1]:void 0,n=a||"${path} must contain at least ${length} "+s("word",e),r=new RegExp("[a-zA-Z0-9]");return this.test({name:"minWords",exclusive:!0,message:n,params:{length:e},test:function(s){return t(s)||s.split(" ").filter((function(e){return!!e&&r.test(e)})).length>=e}})}function l(){return this.min(8).max(250).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1)}e.exports=function(e){e.addMethod(e.string,"minLowercase",a),e.addMethod(e.string,"minUppercase",n),e.addMethod(e.string,"minNumber",r),e.addMethod(e.string,"minNumbers",r),e.addMethod(e.string,"minSymbol",i),e.addMethod(e.string,"minSymbols",i),e.addMethod(e.string,"minRepeating",d),e.addMethod(e.string,"minWords",o),e.addMethod(e.string,"password",l)}}}]);
//# sourceMappingURL=98.e3f655dd.chunk.js.map